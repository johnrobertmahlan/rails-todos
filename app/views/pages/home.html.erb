<%= javascript_pack_tag 'buttons' %>
<div class="row-fluid">
  <div class="span10 offset1">
    <div class="hero-unit">
      <h1 id="hometitle">My ToDos</h1>

      <div class="buttons">
        <button id="newtask" type="submit" class="btn btn-primary">
          Create New Task
        </button>
        <%= render :partial => 'task_form' %>
      </div>

      
      <% if @tasks.empty? %>
        <h1>There are no tasks yet!</h1>
      <% else %>
        <table class="table table-striped table-bordered table-hover table-condensed">
            <thead>
                <tr>
                    <th>Title</th>
                    <th>Note</th>
                    <th>Created At</th>
                    <th>Completed</th>
                    <th></th>
                    <th></th>
                </tr>
            </thead>
            <tbody>
                <% @tasks.each do |task| %>
                    <tr>
                        <td><%= task.title %></td>
                        <td><%= task.note %></td>
                        <td><%= task.created_at %></td>
                        <td><%= task.completed %></td>
                        <td>
                        <button class="showtask btn btn-primary" type="submit">Details</button>
                        <%= render :partial => 'show_form', locals: {task: task} %>
                        </td>
                        <td>
                        <button class="deletetask btn btn-primary" type="submit">Delete</button>
                        <%= render :partial => 'delete_form', locals: {task: task} %>
                        </td>
                    </tr>
                <% end %>
            <tbody>
        </table>
      <% end %>

    </div>
  </div>
</div>